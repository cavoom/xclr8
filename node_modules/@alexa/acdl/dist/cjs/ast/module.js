"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Module = exports.isModule = exports.ModuleSchema = exports.isModuleExpression = void 0;
const tree_1 = require("./tree");
const guard_1 = require("./guard");
exports.isModuleExpression = (0, guard_1.guard)("NameDeclaration", "ActionDeclaration", "DialogDeclaration", "TypeDeclaration", "InteractionDeclaration", "Call");
/**
 * JSON schema version of the Module.
 */
exports.ModuleSchema = "https://amazonalexa.com/ask/2020/12/Module";
function isModule(a) {
    return a.kind === "Module";
}
exports.isModule = isModule;
/**
 * A module contains a set of expressions.
 */
class Module extends tree_1.Tree {
    constructor(
    /**
     * URI of the file that produced this Module.
     */
    _uri, 
    /**
     * The schema for the module file.
     */
    schema, 
    /**
     * Module namespace.
     */
    namespace, 
    /**
     * Imports of the module.
     */
    imports, 
    /**
     * The declared names that are visible outside this module.
     */
    exports, 
    /**
     * The expressions in this module.
     */
    expressions, loc) {
        super("Module", loc);
        Object.defineProperty(this, "_uri", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: _uri
        });
        Object.defineProperty(this, "schema", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: schema
        });
        Object.defineProperty(this, "namespace", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: namespace
        });
        Object.defineProperty(this, "imports", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: imports
        });
        Object.defineProperty(this, "exports", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: exports
        });
        Object.defineProperty(this, "expressions", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: expressions
        });
        this.setAsParentOn(namespace);
        this.setAsParentOn(imports);
        this.setAsParentOn(expressions);
    }
    get uri() {
        return this._uri;
    }
    clone() {
        var _a, _b;
        return new Module(this.uri, this.schema, (_a = this.namespace) === null || _a === void 0 ? void 0 : _a.clone(), (_b = this.imports) === null || _b === void 0 ? void 0 : _b.map((i) => i.clone()), this.exports, this.expressions, this.loc);
    }
}
exports.Module = Module;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FzdC9tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBSUEsaUNBQTRCO0FBSTVCLG1DQUE4QjtBQWlCakIsUUFBQSxrQkFBa0IsR0FBRyxJQUFBLGFBQUssRUFDckMsaUJBQWlCLEVBQ2pCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLHdCQUF3QixFQUN4QixNQUFNLENBQ1AsQ0FBQztBQUVGOztHQUVHO0FBQ1UsUUFBQSxZQUFZLEdBQUcsNENBQXFELENBQUM7QUFHbEYsU0FBZ0IsUUFBUSxDQUFDLENBQU07SUFDN0IsT0FBTyxDQUFDLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQztBQUM3QixDQUFDO0FBRkQsNEJBRUM7QUFFRDs7R0FFRztBQUNILE1BQWEsTUFBTyxTQUFRLFdBQXlCO0lBQ25EO0lBQ0U7O09BRUc7SUFDTSxJQUFZO0lBQ3JCOztPQUVHO0lBQ00sTUFBb0I7SUFDN0I7O09BRUc7SUFDTSxTQUFnQjtJQUN6Qjs7T0FFRztJQUNNLE9BQWtCO0lBQzNCOztPQUVHO0lBQ00sT0FBa0I7SUFDM0I7O09BRUc7SUFDTSxXQUFnQyxFQUN6QyxHQUFvQjtRQUVwQixLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7OzttQkF2Qlo7Ozs7OzttQkFJQTs7Ozs7O21CQUlBOzs7Ozs7bUJBSUE7Ozs7OzttQkFJQTs7Ozs7O21CQUlBOztRQUlULElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLEdBQUc7UUFDTCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVNLEtBQUs7O1FBQ1YsT0FBTyxJQUFJLE1BQU0sQ0FDZixJQUFJLENBQUMsR0FBRyxFQUNSLElBQUksQ0FBQyxNQUFNLEVBQ1gsTUFBQSxJQUFJLENBQUMsU0FBUywwQ0FBRSxLQUFLLEVBQUUsRUFDdkIsTUFBQSxJQUFJLENBQUMsT0FBTywwQ0FBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUNuQyxJQUFJLENBQUMsT0FBTyxFQUNaLElBQUksQ0FBQyxXQUFXLEVBQ2hCLElBQUksQ0FBQyxHQUFHLENBQ1QsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQWpERCx3QkFpREMifQ==