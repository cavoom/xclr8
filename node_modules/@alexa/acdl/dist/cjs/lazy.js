"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.memoize = void 0;
/**
 * memoize helper that gets a string out of an array
 * by concatenating toString() in each element
 * @param objects array
 * @returns a string for the array
 */
function getArrayString(objects) {
    return objects.map((object) => (!object ? "" : object.toString())).join(",");
}
/**
 * Lazily compute a value from a function, caching the value.
 *
 * @param fn function that computes the value. Arguments with non primitive types need to implement getHash
 */
function memoize(fn) {
    const storage = new Map();
    return function (...args) {
        const argsString = getArrayString(args);
        let returnValue = storage.get(argsString);
        if (returnValue === undefined) {
            returnValue = fn(...args);
            storage.set(argsString, returnValue);
        }
        return returnValue;
    };
}
exports.memoize = memoize;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF6eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYXp5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7OztHQUtHO0FBQ0gsU0FBUyxjQUFjLENBQUMsT0FBYztJQUNwQyxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0UsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixPQUFPLENBQXFCLEVBQWtCO0lBQzVELE1BQU0sT0FBTyxHQUFHLElBQUksR0FBRyxFQUFhLENBQUM7SUFDckMsT0FBTyxVQUFVLEdBQUcsSUFBTztRQUN6QixNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEMsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMxQyxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDN0IsV0FBVyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3RDO1FBRUQsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVpELDBCQVlDIn0=