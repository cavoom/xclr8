import * as ask from "./ast";
import { AlexaConversations, AlexaSchema } from "./ast";
import { getName, getNamespace } from "./util";
const doubleSpace = "  ";
export function printModule(mod, checker) {
    var _a, _b, _c;
    if (mod.expressions === undefined || mod.expressions.length === 0) {
        return "";
    }
    const importedShortNames = new Set();
    const importedQualifiedNames = new Set();
    let namespace = mod.namespace ? mod.namespace.name : "default";
    if (mod.namespace === undefined) {
        const namespaces = {};
        for (const expr of mod.expressions) {
            if (expr.kind !== "Call" && expr.kind !== "InteractionDeclaration") {
                if (((_a = expr.name) === null || _a === void 0 ? void 0 : _a.name) !== undefined) {
                    const shortName = getName(expr.name.name);
                    // by default, treat expressions in this module as imported so that we don't conflict with them by importing names from dependencies
                    importedShortNames.add(shortName);
                    importedQualifiedNames.add(expr.name.name);
                    const ns = getNamespace(expr.name.name);
                    if (!namespaces[ns]) {
                        namespaces[ns] = 1;
                    }
                    else {
                        namespaces[ns] += 1;
                    }
                }
            }
        }
        namespace =
            Object.entries(namespaces).length === 0 ? "default" : Object.entries(namespaces).reduce((a, b) => (a[1] >= b[1] ? a : b))[0];
    }
    const imports = (_c = (_b = mod.imports) === null || _b === void 0 ? void 0 : _b.map((_import) => (_import.kind === "ImportNamespace" ? `${_import.name}.*` : _import.name))) !== null && _c !== void 0 ? _c : [];
    const lines = [];
    const moduleContext = {
        importedShortNames,
        importedQualifiedNames,
        checker,
        namespace,
        imports,
    };
    for (const expr of mod.expressions) {
        lines.push(printNode(expr, 0, moduleContext, false));
    }
    const namespaceFormatted = `namespace ${namespace}` + (imports.length > 0 ? "\n\n" : "");
    const importsFormatted = [...new Set(imports)]
        .sort()
        .map((i) => `import ${i}`)
        .join("\n");
    const linesFormatted = lines.filter((line) => line !== "").join("\n\n");
    return `${namespaceFormatted}${importsFormatted}\n\n${linesFormatted}\n`;
}
export function printNode(expr, depth, moduleContext, inferFqn) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;
    const oneIndent = doubleSpace.repeat(depth);
    const twoIndent = doubleSpace.repeat(depth + 1);
    if (expr === undefined) {
        return "";
    }
    if (expr.kind === "ActionDeclaration") {
        return `${printAnnotations(expr.annotations)}action ${printActionReturnType(expr.returnType)} ${printTopLevelQualifiedName(expr.name)}${printTypeParameterDeclarations(expr.genericArguments)}(${printArgumentDeclarations(expr.arguments)})`;
    }
    if (expr.kind === "Annotation") {
        return `@${printNode(expr.call, depth, moduleContext, inferFqn)}`;
    }
    if (expr.kind === "Argument") {
        if (((_a = expr.value) === null || _a === void 0 ? void 0 : _a.kind) === "Call") {
            const apply = moduleContext.checker.getApply(expr.value);
            if ((apply === null || apply === void 0 ? void 0 : apply.isVarArgs()) && ask.isListLiteral(expr.value.arguments)) {
                return `${expr.value.arguments.items.map((item) => printNode(item, depth + 1, moduleContext, inferFqn)).join(`,\n${oneIndent}`)}`;
            }
        }
        if (expr.context.kind === "Call") {
            const apply = moduleContext.checker.getApply(expr.context);
            if (apply === null || apply === void 0 ? void 0 : apply.isAction()) {
                return `${printNode(expr.value, depth, moduleContext, inferFqn)}`;
            }
        }
        return `${((_b = expr.name) === null || _b === void 0 ? void 0 : _b.name) ? `${expr.name.name} = ` : ""}${printNode(expr.value, depth, moduleContext, inferFqn)}`;
    }
    if (expr.kind === "ArgumentDeclaration") {
        return `${printAnnotations(expr.annotations)}${printNode(expr.type, depth, moduleContext, inferFqn)} ${(_c = expr.name) === null || _c === void 0 ? void 0 : _c.name}${expr.defaultExpression ? ` = ${printNode(expr.defaultExpression, depth, moduleContext, inferFqn)}` : ""}`;
    }
    if (expr.kind === "Block") {
        return `{\n${twoIndent}${(_d = expr.expressions) === null || _d === void 0 ? void 0 : _d.map((node) => printNode(node, depth + 1, moduleContext, inferFqn)).join(`\n${twoIndent}`)}\n${oneIndent}}`;
    }
    if (expr.kind === "Call") {
        const apply = moduleContext.checker.getApply(expr);
        const isType = apply === null || apply === void 0 ? void 0 : apply.isType();
        if (typeof expr.arguments === "string" || typeof expr.arguments === "number" || typeof expr.arguments === "boolean") {
            const value = typeof expr.arguments === "string"
                ? `"${expr.arguments}"`
                : typeof expr.arguments === "number"
                    ? expr.arguments.toString(10)
                    : typeof expr.arguments === "boolean"
                        ? `${expr.arguments}`
                        : "";
            return value;
        }
        if (expr.arguments === null) {
            return "nothing";
        }
        if (ask.isListLiteral(expr.arguments) || ask.isUtterance(expr.arguments)) {
            return printNode(expr.arguments, depth, moduleContext, inferFqn);
        }
        if (apply === null || apply === void 0 ? void 0 : apply.isOperator()) {
            if (apply.isNot()) {
                return `!${printNode(apply.getArgumentValue("right"), depth, moduleContext, inferFqn)}`;
            }
            const op = apply.isEq()
                ? "=="
                : apply.isNeq()
                    ? "!="
                    : apply.isAnd()
                        ? "&&"
                        : apply.isOr()
                            ? "||"
                            : apply.isGt()
                                ? ">"
                                : apply.isGte()
                                    ? ">="
                                    : apply.isLt()
                                        ? "<"
                                        : apply.isLte()
                                            ? "<="
                                            : undefined;
            // always include () for && and || until we have logic to maintain precedence rules.
            const [open, close] = apply.isAnd() || apply.isOr() ? ["(", ")"] : ["", ""];
            return `${open}${printNode(apply.getArgumentValue("left"), depth, moduleContext, inferFqn)} ${op} ${printNode(apply.getArgumentValue("right"), depth, moduleContext, inferFqn)}${close}`;
        }
        const open = isType ? " {" : "(";
        const close = isType ? "}" : ")";
        // emit generic arguments for `is` operator and for literal types.
        const shouldHaveGenericArgs = (_g = ((apply === null || apply === void 0 ? void 0 : apply.isIs()) ||
            (apply === null || apply === void 0 ? void 0 : apply.isType()) ||
            (apply === null || apply === void 0 ? void 0 : apply.isUserDefinedApi()) ||
            (apply === null || apply === void 0 ? void 0 : apply.isReceived()) ||
            (((apply === null || apply === void 0 ? void 0 : apply.isUtterances()) || (apply === null || apply === void 0 ? void 0 : apply.isIntent())) && ((_f = (_e = apply.getGenericArguments()) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.isThing()) !== true))) !== null && _g !== void 0 ? _g : true;
        const callName = `${printQualifiedName((_h = expr.name) === null || _h === void 0 ? void 0 : _h.name)}${shouldHaveGenericArgs ? printTypeParameters(expr.genericArguments) : ""}${open}`;
        if (expr.arguments === undefined || expr.arguments.length === 0) {
            return `${printAnnotations(expr.annotations)}${callName}${close}`;
        }
        if ((apply === null || apply === void 0 ? void 0 : apply.decl.kind) === "ActionDeclaration") {
            const argumentDecls = (apply === null || apply === void 0 ? void 0 : apply.decl.kind) === "ActionDeclaration" ? apply === null || apply === void 0 ? void 0 : apply.decl.arguments : [];
            return `${printAnnotations(expr.annotations)}${callName}\n${twoIndent}${(_j = argumentDecls === null || argumentDecls === void 0 ? void 0 : argumentDecls.map((argDecl) => {
                const matchedArg = apply.getArgument(argDecl.name);
                if (matchedArg === undefined) {
                    return "nothing";
                }
                return printNode(matchedArg, depth + 1, moduleContext, inferFqn);
            }).join(`,\n${twoIndent}`)) !== null && _j !== void 0 ? _j : ""}\n${oneIndent}${close}`;
        }
        return `${printAnnotations(expr.annotations)}${callName}\n${twoIndent}${(_l = (_k = expr.arguments) === null || _k === void 0 ? void 0 : _k.map((arg) => {
            var _a;
            if (isType && ((_a = arg.name) === null || _a === void 0 ? void 0 : _a.name) === undefined) {
                throw new Error(`expected property in object literal to have a name`);
            }
            return printNode(arg, depth + 1, moduleContext, inferFqn);
        }).join(`,\n${twoIndent}`)) !== null && _l !== void 0 ? _l : ""}\n${oneIndent}${close}`;
    }
    if (expr.kind === "Correction") {
        return `actual ${printNode(expr.actual, depth, moduleContext, inferFqn)} expected ${printNode(expr.expected, depth, moduleContext, inferFqn)}`;
    }
    if (expr.kind === "ListLiteral") {
        return `[\n${twoIndent}${expr.items
            .map((item) => printNode(item, depth + 1, moduleContext, inferFqn))
            .join(`,\n${twoIndent}`)}\n${oneIndent}]`;
    }
    if (expr.kind === "ListItem") {
        return printNode(expr.item, depth, moduleContext, inferFqn);
    }
    if (expr.kind === "Utterance") {
        return `"${expr.text}"`;
    }
    if (expr.kind === "Condition") {
        return `${printAnnotations(expr.annotations)}if (${printNode(expr.when, depth, moduleContext, inferFqn)}) ${printNode(expr.then, depth, moduleContext, inferFqn)}${expr.else && expr.else.expressions && expr.else.expressions.length > 0
            ? ` else ${printNode(expr.else, depth, moduleContext, inferFqn)}`
            : ""}`;
    }
    if (expr.kind === "DialogDeclaration") {
        return `${printAnnotations(expr.annotations)}dialog${printDialogReturnType(expr.returnType)} ${printTopLevelQualifiedName(expr.name)}${printTypeParameterDeclarations(expr.genericArguments)}(${printArgumentDeclarations(expr.arguments)}) {\n${(_o = (_m = expr.samples) === null || _m === void 0 ? void 0 : _m.map((sample) => printNode(sample, depth + 1, moduleContext, inferFqn)).join(`\n`)) !== null && _o !== void 0 ? _o : ""}\n${oneIndent}}`;
    }
    if (expr.kind === "Sample") {
        return `${printAnnotations(expr.annotations)}${oneIndent}sample ${printNode(expr.scope, depth, moduleContext, inferFqn)}`;
    }
    if (expr.kind === "ImportName") {
    }
    else if (expr.kind === "ImportNamespace") {
    }
    else if (expr.kind === "InteractionDeclaration") {
        return `${printAnnotations(expr.annotations)}interaction ${printNode(expr.scope, depth, moduleContext, inferFqn)}`;
    }
    else if (expr.kind === "Module") {
        return printModule(expr, moduleContext.checker);
    }
    else if (expr.kind === "Name") {
        return expr.name;
    }
    else if (expr.kind === "NameDeclaration" && !isGeneratedNode(expr)) {
        return `${printAnnotations(expr.annotations)}${printTopLevelQualifiedName(expr.name)} = ${printNode(expr.expression, depth, moduleContext, inferFqn)}`;
    }
    else if (expr.kind === "NameReference") {
        return `${printAnnotations(expr.annotations)}${printQualifiedName((_p = expr.name) === null || _p === void 0 ? void 0 : _p.name)}`;
    }
    else if (expr.kind === "ResponseTemplate") {
    }
    else if (expr.kind === "PropertyReference") {
        return `${printAnnotations(expr.annotations)}${printNode(expr.expression, depth, moduleContext, inferFqn)}.${printNode(expr.name, depth, moduleContext, inferFqn)}`;
    }
    else if (expr.kind === "SlotType") {
    }
    else if (expr.kind === "TypeDeclaration" && !isGeneratedNode(expr)) {
        return `${printAnnotations(expr.annotations)}type ${printTopLevelQualifiedName(expr.name)}${printTypeParameterDeclarations(expr.genericArguments)}${expr.extensions ? ` : ${expr.extensions.map((e) => printNode(e, depth, moduleContext, inferFqn)).join(" : ")}` : ""}${expr.properties === undefined || expr.properties.length === 0
            ? ""
            : ` {\n${(_r = (_q = expr.properties) === null || _q === void 0 ? void 0 : _q.map((prop) => printNode(prop, depth + 1, moduleContext, inferFqn)).join("\n")) !== null && _r !== void 0 ? _r : ""}\n}`}`;
    }
    else if (expr.kind === "TypeParameter") {
        return `${printNode(expr.name, depth, moduleContext, inferFqn)}${expr.constraints ? ` : ${expr.constraints.map((c) => printNode(c, depth, moduleContext, inferFqn)).join(" : ")}` : ""}`;
    }
    else if (expr.kind === "TypeProperty") {
        return `${printAnnotations(expr.annotations)}${oneIndent}${expr.optional ? "optional " : ""}${printNode(expr.type, depth, moduleContext, inferFqn)} ${printNode(expr.name, depth, moduleContext, inferFqn)}`;
    }
    else if (expr.kind === "TypeReference") {
        return `${printAnnotations(expr.annotations)}${printQualifiedName((_s = expr.name) === null || _s === void 0 ? void 0 : _s.name)}${printTypeParameters(expr.arguments)}`;
    }
    else if (expr.kind === "When") {
        return printNode(expr.expression, depth, moduleContext, inferFqn);
    }
    // fall through, return empty
    return "";
    /**
     * Prints the return type of an action
     * @param returnType type reference for the return of an action
     * @returns a string representiong the return type of an action
     */
    function printActionReturnType(returnType) {
        var _a;
        return returnType === undefined || ((_a = returnType.name) === null || _a === void 0 ? void 0 : _a.name) === AlexaSchema.Void
            ? "void"
            : printNode(returnType, depth, moduleContext, inferFqn);
    }
    /**
     * Prints the return type of a dialog ommiting void/nothing return value for simplicity
     * @param returnType type reference for the return of a dialog
     * @returns a string representiong the return type of a dialog
     */
    function printDialogReturnType(returnType) {
        var _a, _b;
        return returnType === undefined || ((_a = returnType.name) === null || _a === void 0 ? void 0 : _a.name) === AlexaSchema.Void || ((_b = returnType.name) === null || _b === void 0 ? void 0 : _b.name) === AlexaSchema.Nothing
            ? ""
            : " " + printNode(returnType, depth, moduleContext, inferFqn);
    }
    function printQualifiedName(name) {
        if (name === undefined) {
            return "";
        }
        if (!inferFqn && name.includes(".")) {
            const shortName = getName(name);
            if (moduleContext.importedQualifiedNames && moduleContext.importedQualifiedNames.has(name)) {
                return shortName;
            }
            if (moduleContext.importedShortNames &&
                moduleContext.importedQualifiedNames &&
                moduleContext.imports &&
                !moduleContext.importedShortNames.has(shortName)) {
                moduleContext.importedShortNames.add(shortName);
                moduleContext.importedQualifiedNames.add(name);
                moduleContext.imports.push(name);
                return shortName;
            }
            return name;
        }
        return name;
    }
    function printTopLevelQualifiedName(name) {
        if (name === null || name === void 0 ? void 0 : name.name) {
            const thisNs = getNamespace(name.name);
            if (!inferFqn && moduleContext.namespace === thisNs) {
                return getName(name.name);
            }
            return name.name;
        }
        return "";
    }
    function printArgumentDeclarations(args) {
        var _a;
        return (_a = args === null || args === void 0 ? void 0 : args.map((arg) => printNode(arg, depth, moduleContext, inferFqn)).join(", ")) !== null && _a !== void 0 ? _a : "";
    }
    function printTypeParameterDeclarations(genericArguments) {
        return genericArguments ? `<${genericArguments.map((t) => printNode(t, depth, moduleContext, inferFqn)).join(", ")}>` : "";
    }
    function printAnnotations(annotations) {
        if (annotations === undefined || annotations.length === 0) {
            return "";
        }
        return `${annotations.map((annotation) => `${oneIndent}${printNode(annotation, depth, moduleContext, inferFqn)}`).join("\n")}\n`;
    }
    function printTypeParameters(genericArguments) {
        return genericArguments ? `<${genericArguments.map((type) => printNode(type, depth, moduleContext, inferFqn)).join(", ")}>` : "";
    }
    /**
     * Returns if this node contains the `@generated` annotation.
     */
    function isGeneratedNode(node) {
        if (node.annotations === undefined) {
            return false;
        }
        return node.annotations.filter((ann) => { var _a; return ((_a = ann.call.name) === null || _a === void 0 ? void 0 : _a.name) === getName(AlexaConversations.generated); }).length > 0;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJpbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEdBQUcsTUFBTSxPQUFPLENBQUM7QUFDN0IsT0FBTyxFQUFDLGtCQUFrQixFQUFFLFdBQVcsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUV0RCxPQUFPLEVBQUMsT0FBTyxFQUFFLFlBQVksRUFBQyxNQUFNLFFBQVEsQ0FBQztBQUU3QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFVekIsTUFBTSxVQUFVLFdBQVcsQ0FBQyxHQUFlLEVBQUUsT0FBb0I7O0lBQy9ELElBQUksR0FBRyxDQUFDLFdBQVcsS0FBSyxTQUFTLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ2pFLE9BQU8sRUFBRSxDQUFDO0tBQ1g7SUFFRCxNQUFNLGtCQUFrQixHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7SUFDN0MsTUFBTSxzQkFBc0IsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO0lBQ2pELElBQUksU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFFL0QsSUFBSSxHQUFHLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTtRQUMvQixNQUFNLFVBQVUsR0FBMkIsRUFBRSxDQUFDO1FBQzlDLEtBQUssTUFBTSxJQUFJLElBQUksR0FBRyxDQUFDLFdBQVcsRUFBRTtZQUNsQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssd0JBQXdCLEVBQUU7Z0JBQ2xFLElBQUksQ0FBQSxNQUFBLElBQUksQ0FBQyxJQUFJLDBDQUFFLElBQUksTUFBSyxTQUFTLEVBQUU7b0JBQ2pDLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxJQUFJ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