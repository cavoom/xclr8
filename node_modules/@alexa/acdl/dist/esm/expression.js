class BaseExpression {
    constructor(prev, flow) {
        var _a, _b;
        Object.defineProperty(this, "prev", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: prev
        });
        Object.defineProperty(this, "flow", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: flow
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * A reference to the Type Environment this Expression belongs in.
         */
        Object.defineProperty(this, "checker", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * The exact ASKIR Expression node which expressed this Expression.
         */
        Object.defineProperty(this, "node", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * Sourece Code Location of the Call representing this Expression.
         */
        Object.defineProperty(this, "loc", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        /**
         * Source Code URI of the code containing this Expression.
         */
        Object.defineProperty(this, "uri", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.node = flow.expression;
        this.checker = flow.checker;
        this.loc = (_a = flow.expression) === null || _a === void 0 ? void 0 : _a.loc;
        this.uri = (_b = flow.expression) === null || _b === void 0 ? void 0 : _b.uri;
    }
    isAction() {
        return this instanceof ActionExpression;
    }
    isBlock() {
        return this instanceof BlockExpression;
    }
    isConditionalBranch() {
        return this instanceof ConditionalBranch;
    }
    isConfirmAction() {
        return this instanceof ConfirmAction;
    }
    isConfirmArgs() {
        return this instanceof ConfirmArgs;
    }
    isDialogExpansion() {
        return this instanceof DialogExpansion;
    }
    isEnsure() {
        return this instanceof Ensure;
    }
    isExpect() {
        return this instanceof Expect;
    }
    isEnd() {
        return this instanceof End;
    }
    isInvokeApi() {
        return this instanceof InvokeApi;
    }
    isResponse() {
        return this instanceof Response;
    }
    isStart() {
        return this instanceof Start;
    }
    isDelegateToIntent() {
        return this instanceof DelegateToIntent;
    }
    isDelegateRequest() {
        return this instanceof DelegateRequest;
    }
    /**
     * Expressions that can come after a delegation call.
     */
    canFollowDelegation() {
        return this.isExpect() || this.isEnd() || this.isDialogExpansion() || this.isBlock() || this.isConditionalBranch();
    }
}
/**
 * Represents the Start of a Dialog Flow. This is usually used to detect the beginning
 * when traversing back through the Stack of previously received Expressions. It is
 * always the first expression in a {@link Flow.interpret} stream.
 */
export class Start extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Start"
        });
    }
}
/**
 * Represents the End of a Dialog Flow. This Expression is the last Expression you'll ever
 * receive in a {@link Flow.interpret} stream. Use this to finalize evaluation of the Expression
 * stream.
 */
export class End extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "End"
        });
    }
}
/**
 * Represents entering a Block.
 */
export class BlockExpression extends BaseExpression {
    constructor(prev, flow) {
        super(prev, flow);
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Block"
        });
    }
}
export class FunctionExpression extends BaseExpression {
    constructor(prev, flow, 
    /**
     * The Function to call.
     */
    func, 
    /**
     * Optional name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow);
        Object.defineProperty(this, "func", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: func
        });
        Object.defineProperty(this, "arguments", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.arguments = args;
        this.apply = flow.checker.getApply(this.node);
    }
}
/**
 * A Call to any Action (apis, built-ins, etc.).
 */
export class ActionExpression extends FunctionExpression {
    constructor(prev, flow, 
    /**
     * The API's Action to call.
     */
    action, 
    /**
     * Optional name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow, action, args);
        Object.defineProperty(this, "action", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: action
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Action"
        });
    }
}
/**
 * Invoke of an external API Action.
 *
 * ```
 * action String foo(String arg)
 * // ..
 * f = foo("hello")
 * ```
 */
export class InvokeApi extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The API's Action to call.
     */
    action, 
    /**
     * Name-value pairs for the Arguments passed to the API.
     */
    args) {
        super(prev, flow, action, args);
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "InvokeApi"
        });
    }
    getConfirmPayload() {
        var _a;
        return {
            actionName: (_a = this.action) === null || _a === void 0 ? void 0 : _a.actionName,
            arguments: this.arguments,
        };
    }
}
/**
 * Call to expand a Dialog.
 *
 * ```
 * dialog Foo(String arg) {}
 * // ..
 * fooDialog("hello")
 * ```
 */
export class DialogExpansion extends FunctionExpression {
    constructor(prev, flow, 
    /**
     * The Dialog to call and expand the samples of in the simulation.
     */
    dialog, 
    /**
     * Name-value pairs for the Arguments passed to the Dialog.
     */
    args) {
        super(prev, flow, dialog, args);
        Object.defineProperty(this, "dialog", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: dialog
        });
        Object.defineProperty(this, "args", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: args
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Dialog"
        });
    }
}
/**
 * Represents an invound Request via the `expect` action.
 *
 * ```
 * expect(Invoke, my_utterance_event)
 * ```
 */
export class Expect extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The value of the Request Act.
     */
    act, 
    /**
     * The received Event.
     */
    event) {
        super(prev, flow);
        Object.defineProperty(this, "act", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: act
        });
        Object.defineProperty(this, "event", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: event
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Expect"
        });
    }
    /**
     * @returns the type of the Act.
     */
    getActType() {
        var _a, _b;
        return (_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.getTypeType();
    }
    isAffirm() {
        var _a, _b, _c, _d, _e;
        return ((_c = (_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.getTypeType()) === null || _c === void 0 ? void 0 : _c.isAffirm()) || ((_e = (_d = this.act) === null || _d === void 0 ? void 0 : _d.type) === null || _e === void 0 ? void 0 : _e.isAffirm());
    }
    isDeny() {
        var _a, _b, _c, _d, _e;
        return ((_c = (_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.getTypeType()) === null || _c === void 0 ? void 0 : _c.isDeny()) || ((_e = (_d = this.act) === null || _d === void 0 ? void 0 : _d.type) === null || _e === void 0 ? void 0 : _e.isDeny());
    }
    isInvoke() {
        var _a, _b, _c, _d, _e;
        return ((_c = (_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.getTypeType()) === null || _c === void 0 ? void 0 : _c.isInvoke()) || ((_e = (_d = this.act) === null || _d === void 0 ? void 0 : _d.type) === null || _e === void 0 ? void 0 : _e.isInvoke());
    }
    isInform() {
        var _a, _b, _c, _d, _e;
        return ((_c = (_b = (_a = this.act) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.getTypeType()) === null || _c === void 0 ? void 0 : _c.isInform()) || ((_e = (_d = this.act) === null || _d === void 0 ? void 0 : _d.type) === null || _e === void 0 ? void 0 : _e.isInform());
    }
}
/**
 * Send a Response to the user.
 *
 * Is a Call Expression to `com.amazon.alexa.ask.conversations.response`
 *
 * ```acdl
 * response(
 *   response = my_apla_tempalte
 *   payload = Payload {
 *     key = value
 *   },
 *   act = Request { arguments = [foo.arguments.bar] },
 * })
 * ```
 */
export class Response extends ActionExpression {
    constructor(prev, flow, 
    /**
     * The Apply instance for the actual Call Expression to the `response` Action.
     */
    apply, 
    /**
     * The Response template to use for this Response.
     */
    response, 
    /**
     * The Response Act value for this Response.
     */
    act, 
    /**
     * Optional nextAct value for this Response.
     */
    nextAct, 
    /**
     * Value of the Payload to be passed to the APL/A Response Template.
     */
    payload, 
    /**
     * Optional literal String representing the surface form of this Response.
     */
    surfaceForm) {
        super(prev, flow);
        Object.defineProperty(this, "flow", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: flow
        });
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: apply
        });
        Object.defineProperty(this, "response", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: response
        });
        Object.defineProperty(this, "act", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: act
        });
        Object.defineProperty(this, "nextAct", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: nextAct
        });
        Object.defineProperty(this, "payload", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: payload
        });
        Object.defineProperty(this, "surfaceForm", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: surfaceForm
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Response"
        });
        Object.defineProperty(this, "actNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "responseNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.actNode = apply.getArgumentValue("act");
        this.responseNode = apply.getArgumentValue("response");
    }
    /**
     * If {@link Response.act} is `Request` then return the list of all the Action Arguments {@link ArgumentThing} that were individually requested.
     *
     * Individually requested arguments must exist for all required Arguments when calling an Action.
     */
    getIndividuallyRequestedArguments() {
        var _a, _b, _c;
        if ((_a = this.act) === null || _a === void 0 ? void 0 : _a.type.isRequest()) {
            const args = (_c = (_b = this.act.getProperty("arguments")) === null || _b === void 0 ? void 0 : _b.asLiteralList()) === null || _c === void 0 ? void 0 : _c.getItems();
            if ((args === null || args === void 0 ? void 0 : args.length) === 1) {
                return args.map((item) => item === null || item === void 0 ? void 0 : item.asArgument()).filter((a) => a !== undefined);
            }
        }
        return [];
    }
}
/**
 * A request to transfer delegation from Alexa Conversations to IM.
 */
export class DelegateRequest extends ActionExpression {
    constructor(prev, flow, apply, updatedRequest) {
        super(prev, flow);
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: apply
        });
        Object.defineProperty(this, "updatedRequest", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: updatedRequest
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "DelegateRequest"
        });
        Object.defineProperty(this, "updatedRequestNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.updatedRequestNode = apply.getArgumentValue("updatedRequest");
    }
    getConfirmPayload() {
        var _a, _b;
        return {
            actionName: this.actionKind,
            arguments: (_b = (_a = this.checker.getThing(this.apply.getArgumentValue("updatedRequest"))) === null || _a === void 0 ? void 0 : _a.getProperty("slots")) === null || _b === void 0 ? void 0 : _b.getProperties(),
        };
    }
}
/**
 * Responds with a `Dialog.DelegateRequest` directive to the intent with the provided
 * slot values.
 *
 * Is a Call Expression to `com.amazon.alexa.ask.conversations.delegateToIntent`
 *
 * ```acdl
 * delegateToIntent<T>(
 *    getWeatherIntent,
 *    Weather {
 *       temp = 10,
 *       location = "Seattle"
 *    }
 * )
 * ```
 */
/**
 * A request to transfer delegation from Alexa Conversations to IM.
 */
export class DelegateToIntent extends ActionExpression {
    constructor(prev, flow, apply, intent, slots) {
        super(prev, flow);
        Object.defineProperty(this, "apply", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: apply
        });
        Object.defineProperty(this, "intent", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: intent
        });
        Object.defineProperty(this, "slots", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: slots
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "DelegateToIntent"
        });
        Object.defineProperty(this, "intentNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "slotsNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.intentNode = apply.getArgumentValue("intent");
        this.slotsNode = apply.getArgumentValue("slots");
    }
    getConfirmPayload() {
        var _a;
        return {
            actionName: this.actionKind,
            arguments: (_a = this.checker.getThing(this.apply.getArgumentValue("slots"))) === null || _a === void 0 ? void 0 : _a.getProperties(),
        };
    }
}
/**
 * An ambient Expression to Confirm Arguments that will be passed to some API Action.
 *
 * ```
 * confirmArgs([foo.arguments.bar])
 *
 * ```
 */
export class ConfirmArgs extends ActionExpression {
    constructor(prev, flow, 
    /**
     * Lis
     */
    confirmArgs) {
        super(prev, flow);
        Object.defineProperty(this, "confirmArgs", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: confirmArgs
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "ConfirmArgs"
        });
    }
}
/**
 * A Response to the user to to confirm that Alexa should call some API.
 */
export class ConfirmAction extends ActionExpression {
    constructor(prev, flow, response, actionName, payload) {
        var _a;
        super(prev, flow);
        Object.defineProperty(this, "response", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: response
        });
        Object.defineProperty(this, "actionName", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: actionName
        });
        Object.defineProperty(this, "payload", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: payload
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "ConfirmAction"
        });
        Object.defineProperty(this, "actionNameNode", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.actionNameNode = (_a = this.apply) === null || _a === void 0 ? void 0 : _a.getArgument("actionName");
    }
}
/**
 * An ambient expression informing Alexa how to request various arguments for various actions.
 */
export class Ensure extends ActionExpression {
    constructor(prev, flow, requestArgs) {
        super(prev, flow);
        Object.defineProperty(this, "requestArgs", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: requestArgs
        });
        Object.defineProperty(this, "actionKind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Ensure"
        });
    }
    /**
     * Gets a list of all the Action Arguments {@link ArgumentThing} that were individually requested.
     *
     * Individually requested arguments must exist for all required Arguments when calling an Action.
     */
    getIndividuallyRequestedArguments() {
        var _a, _b, _c, _d;
        return ((_d = (_c = (_b = (_a = this.requestArgs) === null || _a === void 0 ? void 0 : _a.asLiteralList()) === null || _b === void 0 ? void 0 : _b.getItems()) === null || _c === void 0 ? void 0 : _c.map((item) => {
            var _a, _b, _c, _d;
            if (item === null || item === void 0 ? void 0 : item.type.isRequestArguments()) {
                const args = (_a = item.getProperty("arguments")) === null || _a === void 0 ? void 0 : _a.asLiteralList();
                if (args !== undefined && ((_b = args.getItems()) === null || _b === void 0 ? void 0 : _b.length) === 1) {
                    return ((_d = (_c = args
                        .getItems()) === null || _c === void 0 ? void 0 : _c.map((item) => item === null || item === void 0 ? void 0 : item.asArgument()).filter((a) => a !== undefined)) !== null && _d !== void 0 ? _d : []);
                }
            }
            return [];
        }).reduce((a, b) => a.concat(b), [])) !== null && _d !== void 0 ? _d : []);
    }
}
/**
 * Represents a fork in the Dialog Flow based on Condition. Expressions after receiving a ConditionalBranch
 * are the expressions contained within the if OR within the else. {@link Flow.interpret} will call your
 * callback once if there is no `else` and twice if there is.
 */
export class ConditionalBranch extends BaseExpression {
    constructor(prev, flow, expr) {
        super(prev, flow);
        Object.defineProperty(this, "expr", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: expr
        });
        Object.defineProperty(this, "kind", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: "Condition"
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwcmVzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHByZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBCQSxNQUFNLGNBQWM7SUF1QmxCLFlBQXFCLElBQTRCLEVBQVcsSUFBZ0I7Ozs7OzttQkFBdkQ7Ozs7OzttQkFBdUM7O1FBdEI1RDs7Ozs7V0FBa0M7UUFFbEM7O1dBRUc7UUFDSDs7Ozs7V0FBOEI7UUFFOUI7O1dBRUc7UUFDSDs7Ozs7V0FBb0I7UUFFcEI7O1dBRUc7UUFDSDs7Ozs7V0FBNkM7UUFFN0M7O1dBRUc7UUFDSDs7Ozs7V0FBaUM7UUFHL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsR0FBRyxHQUFHLE1BQUEsSUFBSSxDQUFDLFVBQVUsMENBQUUsR0FBRyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBQSxJQUFJLENBQUMsVUFBVSwwQ0FBRSxHQUFHLENBQUM7SUFDbEMsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksWUFBWSxnQkFBZ0IsQ0FBQztJQUMxQyxDQUFDO0lBRU0sT0FBTztRQUNaLE9BQU8sSUFBSSxZQUFZLGVBQWUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sbUJBQW1CO1FBQ3hCLE9BQU8sSUFBSSxZQUFZLGlCQUFpQixDQUFDO0lBQzNDLENBQUM7SUFFTSxlQUFlO1FBQ3BCLE9BQU8sSUFBSSxZQUFZLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBRU0sYUFBYTtRQUNsQixPQUFPLElBQUksWUFBWSxXQUFXLENBQUM7SUFDckMsQ0FBQztJQUVNLGlCQUFpQjtRQUN0QixPQUFPLElBQUksWUFBWSxlQUFlLENBQUM7SUFDekMsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksWUFBWSxNQUFNLENBQUM7SUFDaEMs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