import { Block } from "./block";
import { guard } from "./guard";
import { Tree } from "./tree";
/**
 * Check if a value is a Condition.
 */
export const isCondition = guard("Condition");
export class ThenScope extends Block {
}
export class ElseScope extends Block {
}
/**
 * A branch in a Condition block.
 */
export class Condition extends Tree {
    constructor(
    /**
     * Condition to branch on. Expressions are only considered if this is true.
     */
    when, 
    /**
     * Block of sample expressions for when the condition is true.
     */
    then, 
    /**
     * Block of samples to consider if the condition is false.
     */
    _else, annotations, loc) {
        super("Condition", loc);
        Object.defineProperty(this, "when", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: when
        });
        Object.defineProperty(this, "then", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: then
        });
        Object.defineProperty(this, "annotations", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: annotations
        });
        Object.defineProperty(this, "else", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.else = _else;
        this.setAsParentOn(when);
        this.setAsParentOn(then);
        this.setAsParentOn(_else);
        this.setAsParentOn(annotations);
    }
    clone() {
        var _a, _b, _c, _d;
        return new Condition((_a = this.when) === null || _a === void 0 ? void 0 : _a.clone(), (_b = this.then) === null || _b === void 0 ? void 0 : _b.clone(), (_c = this.else) === null || _c === void 0 ? void 0 : _c.clone(), (_d = this.annotations) === null || _d === void 0 ? void 0 : _d.map((a) => a.clone()), this.loc);
    }
}
export class When extends Tree {
    constructor(expression) {
        super("When", expression === null || expression === void 0 ? void 0 : expression.loc);
        Object.defineProperty(this, "expression", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: expression
        });
        this.setAsParentOn(expression);
    }
    clone() {
        var _a;
        return new When((_a = this.expression) === null || _a === void 0 ? void 0 : _a.clone());
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZGl0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FzdC9jb25kaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLFNBQVMsQ0FBQztBQUM5QixPQUFPLEVBQUMsS0FBSyxFQUFDLE1BQU0sU0FBUyxDQUFDO0FBSTlCLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxRQUFRLENBQUM7QUFJNUI7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBUTlDLE1BQU0sT0FBTyxTQUFVLFNBQVEsS0FBcUM7Q0FBRztBQUN2RSxNQUFNLE9BQU8sU0FBVSxTQUFRLEtBQXFDO0NBQUc7QUFFdkU7O0dBRUc7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLElBQWtDO0lBRy9EO0lBQ0U7O09BRUc7SUFDTSxJQUFXO0lBQ3BCOztPQUVHO0lBQ00sSUFBNEI7SUFDckM7O09BRUc7SUFDSCxLQUE2QixFQUNwQixXQUEwQixFQUNuQyxHQUFnQztRQUVoQyxLQUFLLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7OzttQkFaZjs7Ozs7O21CQUlBOzs7Ozs7bUJBS0E7O1FBZlg7Ozs7O1dBQTBCO1FBbUJ4QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztRQUNsQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxLQUFLOztRQUNWLE9BQU8sSUFBSSxTQUFTLENBQ2xCLE1BQUEsSUFBSSxDQUFDLElBQUksMENBQUUsS0FBSyxFQUFFLEVBQ2xCLE1BQUEsSUFBSSxDQUFDLElBQUksMENBQUUsS0FBSyxFQUFFLEVBQ2xCLE1BQUEsSUFBSSxDQUFDLElBQUksMENBQUUsS0FBSyxFQUFFLEVBQ2xCLE1BQUEsSUFBSSxDQUFDLFdBQVcsMENBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsRUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FDVCxDQUFDO0lBQ0osQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFPLElBQUssU0FBUSxJQUF1QjtJQUMvQyxZQUFxQixVQUE0QztRQUMvRCxLQUFLLENBQUMsTUFBTSxFQUFFLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxHQUFHLENBQUMsQ0FBQzs7Ozs7bUJBRFo7O1FBRW5CLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVNLEtBQUs7O1FBQ1YsT0FBTyxJQUFJLElBQUksQ0FBQyxNQUFBLElBQUksQ0FBQyxVQUFVLDBDQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDNUMsQ0FBQztDQUNGIn0=